(function(){function l(){$(document).scrollTop(0)}function c(e,t){r["group"+t]={name:e,exerciseArray:[]}}function h(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function p(e){var t=$(e).find("input").filter(function(){return this.value===""});return t.length}function d(t,n){t===".prevexercisebutton"&&e--;t===".nextexercisebutton"&&e++;setTimeout(function(){$(n).find(".exercisenumber").html(e)},1)}function v(e,t,n,r,i){$(".container").append(e);$(t).addClass(n);setTimeout(function(){$(r).attr("class",i);$(t).addClass("slide-in");setTimeout(function(){$(".remove").remove()},500)},1)}function m(t){setTimeout(function(){var n=$(t).find(".nextexercisegroupbutton"),r=$(t).find(".nextexercisebutton"),i=$(t).find(".donebutton"),s=$(t).find(".prevexercisebutton");if(e===1){n.addClass("toggledisable");r.addClass("toggledisable");i.addClass("toggledisable");s.attr("disabled",!0)}else r.addClass("toggledisable");p(t)&&$(t).find(".toggledisable").attr("disabled",!0);$(document).find("input").keyup(function(){console.log("in here",t);if(!p(t)){console.log("in here2");$(t).find(".toggledisable").attr("disabled",!1)}else{console.log("in here3");$(t).find(".toggledisable").attr("disabled",!0)}})},50)}function g(){var t=$("#exercisename").val(),i=$("#exerciseweight").val(),s=$("#exercisesets").val(),o=$("#exercisereps").val();r["group"+n].exerciseArray[e-1]={name:t,weight:i,sets:s,reps:o}}function y(e,t){function n(){$(".modalconfirm").removeClass("visible");$(".modalconfirm").addClass("invisible");setTimeout(function(){$(".modalconfirm").remove()},500);$(document).off("click",".confirm");$(document).off("click",".deny")}if(p(e)===0)t("fields full");else if(p(e)===4)t("fields empty");else{$(".container").append(a);setTimeout(function(){$(".modalconfirm").removeClass("invisible");$(".modalconfirm").addClass("visible")},1);$(document).on("click",".confirm",function(){t(1);n()});$(document).on("click",".deny",function(){t(0);n()})}}function b(){console.log("Expand object to see all information currently stored:");console.log(r)}function w(){var e=[];for(var t=1;t<=n;t++){e=[];for(var i=0;i<r["group"+t].exerciseArray.length;i++)e.push("<li id="+i+" class='left'><button class='icon-exercise-delete'></button><span>"+r["group"+t].exerciseArray[i].name+"</span><button class='edit-exercise right'>edit</button><button class='confirm-delete'>DELETE</button></li>");$("#groups-page").find(".group-list").append("<li id=group"+t+"><span class='icon-expand-list-down'></span><span class='icon-expand-list-up invisible'></span><button class='groupbutton'>"+r["group"+t].name+"</button></button><ul>"+e.join("")+"</ul><button class='startworkout right'>Start Workout</button></li>")}}function E(){for(var e=0;e<i.length;e++)r[i[e]].exerciseArray=r[i[e]].exerciseArray.filter(function(e){return e})}var e=1,t="",n=0,r={},i=[],s="<div id='groups-page'>         <header>           <h1>Groups</h1>           <button class ='add-group'>+</button>         </header>         <div class='intro-text'>           <p>Looks like you don't have any exercise groups set up!</p>           <p>In each group you'll be entering all the exercises you do in a day (such as Leg Day, Thursday Workout, etc).</p>           <p>Click on the '+' in the top right to get started.</p>         </div>       <ul class='group-list'>       </ul>       </div>",o="<div id='exercisegroupnamer'>         <header>           <h1>New Group</h1>           <button class='groups-back left'> &lsaquo; Groups</button>           <button class='namerproceed toggledisable right'> Next &rsaquo;</button>         </header>           <input type='text' name='inputgroupname' id='inputgroupname' placeholder='Enter group name' maxlength='26'>       </div>",u="<div id='exerciseenter' class='inview'>       <header>Group: <span class='groupname'></span></header>       <h1>#<span class='exercisenumber'></span></h1>       <label for='exercisename'>Exercise Name</label>       <input type='text' name='exercisename' id='exercisename'>       <label for='exerciseweight'>Weight lifted (in lbs)</label>       <input type='number' name='exerciseweight' id='exerciseweight'>       <label for='exercisesets'>Sets</label>       <input type='number' name='exercisesets' id='exercisesets'>       <label for='exercisereps'>Reps per set</label>       <input type='number' name='exercisereps' id='exercisereps'>       <ul>         <li>       <button class='nextexercisegroupbutton'>Next Group</button>       </li>       <li>       <button class='prevexercisebutton'>Prev Exercise</button>       </li>       <li>       <button class='nextexercisebutton'>Next Exercise</button>       </li>       <li>       <button class='donebutton'>Finished</button>       </li>       </ul>       </div>",a="<div class='modalconfirm invisible'>         <div class= 'confirmbox'>           <p>Because the fields are not complete, changes made on this screen will not be saved. Do you wish to proceed?</p>           <button class='modalbutton confirm'>Yes</button>           <button class='modalbutton deny'>No</button>         </div>       </div>",f="<div id='workout'>         <header id='workoutname'></header>         <h1 id='workoutweight'></h1>         <h1 id='workoutsets'></h1>         <h1 id='workoutreps'></h1>         <div id='resultbuttons'>           <button class='success'></button>           <button class='fail'></button>         </div>         <div id='timer'>           <h1 id='clock'>02:00</h1>           <button id='timerbutton' class='start'>Start</button>           </div>         </div>       </div> ";$(window).resize(l);$("#exercisenumber").html(e);m("#exercisegroupnamer");$(document).on("click",".autofill",function(){r={group1:{name:"Tuesday",exerciseArray:[{name:"DB Bench Press",weight:65,sets:3,reps:6},{name:"DB Incline Bench Press",weight:40,sets:2,reps:10},{name:"DB Military Press",weight:35,sets:3,reps:6},{name:"BB Lying Tricep Extensions",weight:22.5,sets:3,reps:10}]},group2:{name:"Thursday",exerciseArray:[{name:"Pullups",weight:5,sets:3,reps:10},{name:"Bentover Rows",weight:85,sets:3,reps:8},{name:"DB Hammercurls",weight:30,sets:2,reps:10},{name:"Situps",weight:20,sets:3,reps:10}]}};n=2;w();$(".intro-text").hide();$(".edit-group").attr("disabled",!1);b()});$(document).on("click",".groups-back",function(e){e.preventDefault();t=$("#inputgroupname").val();v(s,"#groups-page","left-slide","#exercisegroupnamer","remove right-slide");if(t){n++;c(t,n)}if(!h(r)){$(".intro-text").hide();$(".edit-group").attr("disabled",!1)}w();b()});$(document).on("click",".namerproceed",function(){event.preventDefault();e=1;t=$("#inputgroupname").val();v(u,"#exerciseenter","right-slide","#exercisegroupnamer","remove left-slide");m(".inview");$(".exercisenumber").html(e);$(".groupname").html(t);n++;c(t,n);b()});$(document).on("click",".nextexercisegroupbutton",function(){event.preventDefault();y("#exerciseenter",function(e){if(!e)return!1;v(o,"#exercisegroupnamer","left-slide","#exerciseenter","remove right-slide");m("#exercisegroupnamer");e==="fields full"&&g();b()})});$(document).on("click",".prevexercisebutton",function(){event.preventDefault();y("#exerciseenter",function(i){if(!i)return!1;i==="fields full"&&g();for(var s=1;s<=n;s++)if(t===r["group"+s].name){v(u,".inview","left-slide","#exerciseenter","remove right-slide");d(".prevexercisebutton",".inview");setTimeout(function(){$(".inview").find("#exercisename").val(r["group"+s].exerciseArray[e-1].name);$(".inview").find("#exerciseweight").val(r["group"+s].exerciseArray[e-1].weight);$(".inview").find("#exercisesets").val(r["group"+s].exerciseArray[e-1].sets);$(".inview").find("#exercisereps").val(r["group"+s].exerciseArray[e-1].reps);m(".inview")},1);break}$(".groupname").html(t);b()})});$(document).on("click",".nextexercisebutton",function(){event.preventDefault();v(u,".inview","right-slide","#exerciseenter","remove left-slide");$(".groupname").html(t);g();d(".nextexercisebutton",".inview");for(var i=1;i<=n;i++)if(t===r["group"+i].name){var s=r["group"+i].exerciseArray;if(s.length>=e){setTimeout(function(){$(".inview").find("#exercisename").val(s[e-1].name);$(".inview").find("#exerciseweight").val(s[e-1].weight);$(".inview").find("#exercisesets").val(s[e-1].sets);$(".inview").find("#exercisereps").val(s[e-1].reps)},1);break}}m(".inview");b()});$(document).on("click",".donebutton",function(){event.preventDefault();y("#exerciseenter",function(e){if(!e)return!1;e==="fields full"&&g();v(s,"#groups-page","right-slide","#exerciseenter","remove left-slide");d(".donebutton","#groups-page");b();w()})});$(document).on("click",".startworkout",function(){var e=[];event.preventDefault();var t=$(this).closest("li").attr("id");for(var i=1;i<=n;i++)if(t===r["group"+i].name){e=r["group"+i].exerciseArray;b();break}v(f,"#workout","right-slide","#groups-page","remove left-slide");$("#workoutname").html("Name: "+e[0].name);$("#workoutweight").html("Weight: "+e[0].weight+"lbs");$("#workoutsets").html("Sets: "+e[0].sets);$("#workoutreps").html("Reps: "+e[0].reps)});$(document).on("click",".groupbutton",function(e){e.preventDefault();$(this).siblings("span").toggleClass("invisible");$(this).next("ul").slideToggle()});$(document).on("click",".icon-exercise-delete",function(e){$(".confirm-delete").removeClass("delete-active");$(".icon-exercise-delete").removeClass("active");$(this).addClass("active");$(this).siblings(".confirm-delete").addClass("delete-active");e.stopPropagation()});$(document).on("click",".confirm-delete",function(e){var t=$(this).parent(),n=t.parent().parent().attr("id"),s=t.attr("id"),o=r[n].exerciseArray;delete o[s];i.indexOf(o)===-1&&i.push(n);t.remove()});$(document).on("click",".edit-exercise",function(){console.log($(this).parent().parent().parent().attr("id"));console.log($(this).prev().html());v(u,".inview","right-slide","#exerciseenter","remove left-slide");$(".groupname").html(t)});$(document).on("click",function(e){$(".confirm-delete").removeClass("delete-active");$(".icon-exercise-delete").removeClass("active")})})();