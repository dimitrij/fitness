app.controller("GroupsCtrl",["$rootScope","$scope","$location","$firebase","FBURL","$timeout","Exercise","Auth","User","Group",function(e,t,n,r,i,s,o,u,a,f){e.userID||n.path("/");e.loading=0;f.setRefs();o.setRefs();t.allGroups=f.all();t.countGroups=function(){f.dataRef().once("value",function(e){t.groupCount=e.numChildren()})};t.countGroups();t.allExercises=function(e){return o.all(e)};var l={};t.editMode=!1;t.removeGroup=function(e){f.remove(e);t.countGroups();t.groupCount||(t.editMode=!1)};t.removeExercise=function(t,n){e.currentExercise={};s(function(){o.remove(t,n).then(function(){e.currentGroup=t})},200)};t.countExercises=function(e){o.dataRef(e).once("value",function(e){t.exerciseCount=e.numChildren()+1})};t.autofill=function(){var e={name:"Tuesday Workout"};f.create(e).then(function(e){var t=e.name(),n={name:"Dumbbell Bench Press",weight:65,sets:3,reps:6},r={name:"Dumbbell Incline Bench Press",weight:40,sets:2,reps:10},i={name:"Dumbbell Military Press",weight:35,sets:3,reps:6},s={name:"Barbell Lying Tricep Extensions",weight:22.5,sets:3,reps:10};o.create(t,n);o.create(t,r);o.create(t,i);o.create(t,s)});e={name:"Thursday Workout"};f.create(e).then(function(e){var t=e.name(),n={name:"Pullups",weight:5,sets:3,reps:10},r={name:"Bentover Rows",weight:85,sets:3,reps:8},i={name:"Dumbbell Hammercurls",weight:30,sets:2,reps:10},s={name:"Situps",weight:20,sets:3,reps:10};o.create(t,n);o.create(t,r);o.create(t,i);o.create(t,s)});t.countGroups()};t.setGroup=function(t){if(e.currentGroup===t){e.currentGroup={};e.currentExercise={}}else e.currentGroup=t};t.isGroupClicked=function(t){return e.currentGroup===t};t.setExercise=function(t){e.currentExercise===t?e.currentExercise={}:e.currentExercise=t};t.isExerciseClicked=function(t){return e.currentExercise===t};t.showEdit=function(){return t.groupCount>0&&t.editMode===!1?!0:!1};t.logout=function(){u.logout()};t.$on("$firebaseSimpleLogin:logout",function(){delete e.userID})}]);