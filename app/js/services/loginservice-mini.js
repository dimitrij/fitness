"use strict";angular.module("fitness.services.login",["fitness.services.profileCreator"]).factory("loginService",["angularFireAuth","profileCreator","$location","$rootScope","FBURL",function(e,t,n,r,i){var s=new Firebase(i);return{login:function(t,n,i,s){var o=e.login("password",{email:t,password:n,rememberMe:!0});o.then(function(e){if(i){console.log("officially logged in");r.slideView("view-slide-left",i)}s&&s(null,e)},s)},login2:function(e,t,n,i){r.auth.login("password",{email:e,password:t,rememberMe:!0})},loginAnon:function(e,t){var r=new Firebase("https://fitnesskdm.firebaseIO.com"),i=new FirebaseSimpleLogin(r,function(e,t){}),s=i.login("anonymous",{rememberMe:!0});s.then(function(r){console.log("inside promise callback");if(e){console.log("redirecting");n.path(e)}t&&t(null,r)},t)},resetPassword:function(e,t){var n=new Firebase("https://fitnesskdm.firebaseIO.com"),r=new FirebaseSimpleLogin(n,function(e,t){}),i=r.sendPasswordResetEmail(e,t);i.then},logout:function(t){console.log("logging out to "+t);e.logout();r.slideView("view-slide-right",t)},createAccount:function(t,n,i){console.log(t,n);e._authClient.createUser(t,n,function(e,t){if(i){i(e,t);r.$apply()}})},createProfile:t}}]);