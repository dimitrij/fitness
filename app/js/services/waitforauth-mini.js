app.factory("waitForAuth",["$rootScope","$q","$timeout",function(e,t,n){function r(t){e.auth&&(e.auth.error=t instanceof Error?t.toString():null);for(var r=0;r<s.length;r++)s[r]();n(function(){i.resolve()})}var i=t.defer(),s=[];s.push(e.$on("$firebaseSimpleLogin:login",r));s.push(e.$on("$firebaseSimpleLogin:logout",r));s.push(e.$on("$firebaseSimpleLogin:error",r));return i.promise}]);