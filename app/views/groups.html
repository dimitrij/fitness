<div id='groups-page' ng-controller='groupsCtrl'>
  <header>
    <h1>Groups</h1>
    <button class ='edit-group fade-in-out right' ng-show='showEdit()' ng-click='setGroup(); editMode = true;'>Edit</button>
    <button id='logout' class='left' ng-click='logout()'>Log Out</button>
    <button class ='edit-group fade-in-out right' ng-show='editMode' ng-click='setGroup(); editMode = false; $event.stopPropagation()'>Done</button>
    <button class ='add-group right' ng-click='slideView("view-slide-left","/new-group")'>+</button>
  </header>
  <div class="intro-text fade-in-out" ng-if='groupCount === 0'>
    <p>Looks like you don't have any exercise groups set up!</p>
    <p>In each group you'll be entering all the exercises you do in a day (Leg Day, Thursday Workout, etc).</p>
    <p>Click on the '+' in the top right or the button below to get started.</p>
    <p><button class="autofill" ng-click='autofill()'>Load Sample Workouts</button></p>
  </div>
  <ul class='fade-in-out' ng-show='groupCount > 0'>
    <li ng-repeat='group in allGroups' ng-init='allExercises = collectExercises(group.$id)'>
      <span class='icon-expand-list-up fade-in-out' ng-show='isGroupClicked(group.$id) && !editMode'></span>
      <span class='icon-expand-list-down fade-in-out' ng-hide='isGroupClicked(group.$id) || editMode'></span>
      <button class='icon-group-delete icon-slide-left-side' ng-show='editMode' ng-click='setGroup(group.$id); $event.stopPropagation()'></button>
      <button class='group-name' ng-click='setGroup(group.$id); $event.stopPropagation()'>{{group.name}}</button>
      <ul>
        <li class='slide-up-down left' ng-repeat='exercise in allExercises' ng-show='isGroupClicked(group.$id) && !editMode'>
          <h3 class='exercise-info left'>{{exercise.weight}} lbs for {{exercise.sets}} sets of {{exercise.reps}} reps</h3>
          <button class='exercise-edit right' ng-click='slideView("view-slide-left",group.$id+"/edit-exercise/"+exercise.$id);'>edit</button>
          <button class='icon-exercise-delete'></button>
          <button class='confirm-delete-exercise icon-slide-right-side' ng-show='isExerciseClicked(exercise) && !editMode' ng-click='removeExercise(group.$id, exercise.$id); $event.stopPropagation();'>DELETE</button>
          <button class='exercise-name left' ng-click='setExercise(exercise); $event.stopPropagation();'>{{exercise.name}}</button>
        </li>
        <li class='slide-up-down' ng-show='isGroupClicked(group.$id) && !editMode'>
          <button ng-click='countExercises(group.$id); slideView("view-slide-left",group.$id+"/new-exercise/"+exerciseCount)'>Add New Exercise</button>
        </li>
      </ul>
      <button class='group-action-button icon-slide-right-side right' ng-hide='editMode' ng-click='slideView("view-slide-left",group.$id+"/workout")'>Start Workout</button>
      <button class='group-action-button icon-slide-right-side right' ng-show='editMode' ng-click='setGroup(); slideView("view-slide-left",group.$id+"/edit-group");'>Edit Name</button>
      <button class='confirm-delete-group icon-slide-right-side' ng-show='isGroupClicked(group.$id) && editMode' ng-click='removeGroup(group.$id)'>DELETE</button> 
    </li>
  </ul>
</div>
      