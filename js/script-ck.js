//WIP:
//time adjustment to account for iOS' js freeze when the window is hidden
//look into running app in background
//only let users click the Start button once
function visibilityChanged(){document.hidden||document.mozHidden||document.msHidden||document.webkitHidden?console.log("hiding!"):console.log(Math.round(((new Date).getTime()-startTime)/1e3))}var movementDistance=507,nextMove=movementDistance,currentStep=1,doneShift=$("#workout").offset().top-50,exercise1Name="",exercise2Weight="",exercise1SetsxReps="",noRefresh=function(){return!1};console.log($("#exercise2pick").offset().top-$("#exercise1pick").offset().top);$(".nextexercisebutton").click(function(){var e=$(this).parent().find("input").filter(function(){return this.value===""});if(!e.length){console.log("Good to go!");$("#slidingcontent").animate({bottom:nextMove},{duration:"slow",queue:!1});nextMove+=movementDistance;currenteStep++;return!1}alert("finish entering your shit!");console.log("No good!")});$(".donebutton").click(function(){var e=$(this).parent().find("input").filter(function(){return this.value===""});if(!e.length){console.log("Good to go!");exercise1Name=$("#exercise1name").val();$("#exercise1workoutname").replaceWith('<span id="exercise1workoutname">'+exercise1Name+"</span>");exercise1Weight=$("#exercise1weight").val();$("#exercise1workoutweight").replaceWith('<span id="exercise1workoutname">'+exercise1Weight+"</span>");exercise1SetsxReps=$("#exercise1setsxreps").val();$("#exercise1workoutsetsxreps").replaceWith('<span id="exercise1workoutsetsxreps">'+exercise1SetsxReps+"</span>");$("#slidingcontent").animate({bottom:doneShift},{duration:"slow",queue:!1});return!1}alert("finish entering your shit!");console.log("No good!")});var startTime=0;$(".starttimer").click(function(){var e=120;startTime=(new Date).getTime();$("#clock").html(timeCalc(e));var t=setInterval(function(){e--;$("#clock").html(timeCalc(e));if(e==0){alert("Done");clearInterval(t)}},1e3)});var timeCalc=function(e){var t=Math.floor(e/60),n=Math.round(e%60),r="",i="";t<10?r="0"+t:r=t;n<10?i="0"+n:i=n;return r+":"+i},eventName="visibilitychange";document.addEventListener(eventName,visibilityChanged,!1);